- rules:
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap5and6/jboss-eap5and6to7-java.windup.xml-0
    when:
    - filecontent:
        filename: MANIFEST.MF
        pattern: 'Dependencies:'
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap5and6/jboss-eap5and6to7-java.windup.xml-1
    when:
    - file: null
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap5and6/jboss-eap5and6to7-java.windup.xml-2
    when:
      or:
      - java.referenced:
          location: IMPLEMENTS_TYPE
          pattern: javax.ejb.EntityBean
      - java.referenced:
          location: INHERITANCE
          pattern: javax.ejb.EntityBean
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap5and6/jboss-eap5and6to7-java.windup.xml-3
    when:
    - or:
      - java.referenced:
          location: IMPLEMENTS_TYPE
          pattern: org.apache.catalina.Valve
      - java.referenced:
          location: INHERITANCE
          pattern: org.apache.catalina.valves.ValveBase
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap5and6/jboss-eap5and6to7-java.windup.xml-4
    when:
    - or:
      - java.referenced:
          location: IMPORT
          pattern: javax.enterprise.deploy{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap5and6/jboss-eap5and6to7-java.windup.xml-5
    when:
    - java.referenced:
        location: IMPORT
        pattern: org.jboss.as.clustering.singleton.SingletonService
  - message: "\n                        The `@Clustered` annotation is ignored in
      EAP 7 and is not useful. In case the application is started using HA profile,
      the replication will be done automatically.\n                    "
    ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap5and6/jboss-eap5and6to7-java.windup.xml-6
    when:
      or:
      - java.referenced:
          location: ANNOTATION
          pattern: org.jboss.ejb3.annotation.Clustered
      - java.referenced:
          location: IMPORT
          pattern: org.jboss.ejb3.annotation.Clustered
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap5and6/jboss-eap5and6to7-java.windup.xml-7
    when:
    - java.referenced:
        pattern: org.hornetq.{*}
  - message: 'JBoss Logging annotations in package `org.jboss.logging` are deprecated.
      You should replace them by the corresponding annotations from package `org.jboss.logging.annotations`.
      Note that using the `org.jboss.logging.annotations` package requires adding
      a new dependency: `org.jboss.logging:jboss-logging-annotations`.'
    ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap5and6/jboss-eap5and6to7-java.windup.xml-8
    when:
    - java.referenced:
        location: ANNOTATION
        pattern: org.jboss.logging.{annotation}
