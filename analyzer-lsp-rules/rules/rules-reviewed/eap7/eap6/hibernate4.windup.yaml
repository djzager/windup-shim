- rules:
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-0
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.addFile{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-1
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.add({*})
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-2
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.addXML{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-3
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.addCacheableFile{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-4
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.addURL{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-5
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.addInputStream{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-6
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.addResource{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-7
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.addClass{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-8
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.addAnnotatedClass{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-9
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.addPackage{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-10
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.addJar{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-11
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.addDirectory{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-12
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.registerTypeContributor{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-13
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.registerTypeOverride{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-14
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.setProperty{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-15
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.setProperties{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-16
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.addProperties{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-17
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.setNamingStrategy{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-18
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.{configure}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-19
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.setInterceptor{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-20
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.setEntityNotFoundDelegate{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-21
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.setSessionFactoryObserver{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-22
    when:
    - java.referenced:
        location: METHOD_CALL
        pattern: org.hibernate.cfg.Configuration.setCurrentTenantIdentifierResolver{*}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-23
    when:
    - java.referenced:
        pattern: org.hibernate.metamodel.spi.{type}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-24
    when:
    - java.referenced:
        pattern: org.hibernate.cfg.AnnotationConfiguration
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-25
    when:
    - java.referenced:
        pattern: org.hibernate.id.{idclass}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-26
    when:
    - java.referenced:
        pattern: org.hibernate.hql.spi.{type}
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-27
    when:
    - java.referenced:
        pattern: org.hibernate.hql.spi.PersistentTableBulkIdStrategy
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-28
    when:
    - java.referenced:
        pattern: org.hibernate.hql.spi.TemporaryTableBulkIdStrategy
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-29
    when:
    - java.referenced:
        location: IMPLEMENTS_TYPE
        pattern: org.hibernate.integrator.spi.Integrator
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-30
    when:
    - java.referenced:
        pattern: org.hibernate.engine.jdbc.spi.JdbcServices
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-31
    when:
    - java.referenced:
        location: IMPLEMENTS_TYPE
        pattern: org.hibernate.id.Configurable
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-32
    when:
    - java.referenced:
        location: IMPLEMENTS_TYPE
        pattern: org.hibernate.id.PersistentIdentifierGenerator
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-33
    when:
    - java.referenced:
        pattern: org.hibernate.envers.configuration.AuditConfiguration
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-34
    when:
    - or:
      - java.referenced:
          location: INHERITANCE
          pattern: org.hibernate.spatial.dialect.{spatial}
      - java.referenced:
          location: INHERITANCE
          pattern: org.hibernate.spatial.JTSGeometryJavaTypeDescriptor
      - java.referenced:
          location: INHERITANCE
          pattern: org.hibernate.spatial.GeolatteGeometryJavaTypeDescriptor
      - java.referenced:
          location: INHERITANCE
          pattern: org.hibernate.type.descriptor.java.{javatype}
      - java.referenced:
          location: INHERITANCE
          pattern: org.hibernate.type.descriptor.sql.{sqltype}
      - java.referenced:
          location: INHERITANCE
          pattern: org.hibernate.type.descriptor.converter.AttributeConverterSqlTypeDescriptorAdapter
      - java.referenced:
          location: INHERITANCE
          pattern: org.hibernate.type.PostgresUUIDType.PostgresUUIDSqlTypeDescriptor
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-35
    when:
      or:
      - as: config_files
        filecontent:
          filename: '{*}.{extension}'
          pattern: org.hibernate.dialect.Oracle12cDialect
      - as: java_entities
        java.referenced:
          location: ANNOTATION
          pattern: javax.persistence.Entity
      - as: mappings
        from: java_entities
        java.referenced:
          location: RETURN_TYPE
          pattern: java.lang.Byte[]
      - as: mappings2
        from: java_entities
        java.referenced:
          location: RETURN_TYPE
          pattern: byte[]
  - ruleID: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hibernate4.windup.xml-36
    when:
      or:
      - java.referenced:
          location: METHOD_CALL
          pattern: '{param_classes_setfirstresult}.setFirstResult(int)'
      - xmlfile: null
