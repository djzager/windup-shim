testDataPath: ../../windup/windup-rulesets/rules/rules-reviewed/camel3/camel2/tests/data/component-changes
rulePath:
- ../component-changes.windup.groovy
- ../component-changes.windup.xml
ruleset:
- rules:
    rule:
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: Authorization token was moved from uri-path '*.
            size: 2
      perform:
        fail:
        - message: '[camel-telegram] ''Authorization Token required'' hint was not
            found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: It's mandatory to specify key/passphrase for `ShiroSecurityPolicy`
            size: 4
      perform:
        fail:
        - message: '[camel-shiro] ''Shiro needs to have passphrase specified - hint
            not found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: '`.*` has been removed from the mock component''s assertion
                api.'
            size: 3
      perform:
        fail:
        - message: '[camel-mock] outBody removed hint not found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: '`@OutHeaders` annotation has been removed. Use `@Headers*`'
            size: 2
      perform:
        fail:
        - message: '@OutHeaders annotation removed hint not found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: '`.*` has been removed from simple language'
            size: 6
      perform:
        fail:
        - message: '[Simple language] outBody/outHeaders removed hint not found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: '`.*` has been removed from simple language'
            size: 6
      perform:
        fail:
        - message: '[Simple language] outBody/outHeaders removed hint not found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: '`.*` has been removed from simple language'
            size: 6
      perform:
        fail:
        - message: '[Simple language] outBody/outHeaders removed hint not found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: '`property` function has been removed from simple language.
                Use `exchangeProperty.*`'
            size: 1
      perform:
        fail:
        - message: 'Simple language: property function has been removed hint not found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: terser` language renamed to `hl7terser`
            size: 1
      perform:
        fail:
        - message: '[simple language] terser language renamed hint not found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: The default encryption algorithm is mandatory changed from
                `DES/CBC/PKCS5Padding.*`
            size: 2
      perform:
        fail:
        - message: '[Crypto-dataformat] crypto algorithm hint not found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: The default encryption key has been removed, so it is now mandatory
                to supply*
            size: 3
      perform:
        fail:
        - message: '[SecureXML-dataformat] secureXML hint not found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: Consumer.options with `consumer.*`
            size: 3
      perform:
        fail:
        - message: '[Consumer endpoints] removed .consumer prefix hint not found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: org.apache.camel.processor.interceptor.Tracer` class has been
                removed.*
            size: 2
      perform:
        fail:
        - message: '[Tracing] Removed Tracer class hint not found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: '`org.apache.camel.processor.interceptor.DefaultTraceFormatter`
                class has been removed.*'
            size: 1
      perform:
        fail:
        - message: '[Tracing] Removed DefaultTraceFormatter class hint not found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: '`BacklogTracer` is no longer enabled by default in JMX.*'
            size: 1
      perform:
        fail:
        - message: '[Tracing] Removed DefaultFormatter class hint not found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: The default signature algorithm in the XMLSecurity component
                has changed `SHA1WithDSA.*`
            size: 5
      perform:
        fail:
        - message: '[xmlsecurity-component] changed  hint not found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: The default signature algorithm in the Crypto component has
                changed from `SHA1WithDSA.*`
            size: 3
      perform:
        fail:
        - message: '[Crypto-component] changed  hint not found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: The XSLT component has moved out of `camel-core` into `camel-xslt`
                and `camel-xslt-saxon*`
            size: 3
      perform:
        fail:
        - message: '[XSLT component] new component hint not found!'
    - when:
        not:
        - iterable-filter:
          - hint-exists:
            - message: The `org.apache.camel:camel-kafka` component has removed the
                options `bridgeEndpoint` and `circularEndpointDetection`
            size: 7
      perform:
        fail:
        - message: '[component-changes] ''camel-kafka'' hint was not found!'
  sourceFile: ""
sourceFile: http://github.com/windup/windup-ruletests/tree/master/rules/rules-reviewed/camel3/camel2/tests/component-changes.windup.test.xml
